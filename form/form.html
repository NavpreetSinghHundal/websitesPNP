<DOCTYPE! html>
<html>

<head>
<style>
.err{color : #FF0000;}
</style>
<title>Contact US </title>
</head>


<body>
    <img src="contactus1.jpg">
  <?php 
    
   $fname=$lname=$email=$mnumber=$country=$website=$address=$comment"";
   $fname_err=$lname_err=$email_err=$mno_err=$country_err=$website_err=$address_err="";
   
   if($_SERVER["REQUEST_METHOD"]=="POST"){
	
	  if(empty($_POST["fname"])){
	       $fname_err="first name is required";
	  }
      else{ 
         $fname=input($_POST["fname"]);	
         if(!preg_match("/^[a-zA-Z]*$/",$fname)){
              $fname_err="Only letters and white spaces are allowed"; 
         }			  
      }
	  
	  
	  if(empty($_POST["lname"])){
	       $lname_err=" ";
	  }
      else{ 
         $lname=input($_POST["lname"]);	
         if(!preg_match("/^[a-zA-Z]*$/",$lname)){
              $lname_err="Only letters and white spaces are allowed"; 
         }			  
      }
   
    
	if(empty($_POST["email"])){
	       $email_err="Email is required ";
	   }
    else{ 
         $email=input($_POST["email"]);	
         if(!filter_var($email, FILTER_VALIDATE_EMAIL)){
              $email_err="email invalid fromat"; 
            }
       }	  


	if(empty($_POST["mnumber"])){
	       $mno_err="Mobile Number is required ";
	   }
    else{ 
         $mnumber=input($_POST["mnumber"]);	
       }	  	   


	if(empty($_POST["country"])){
	       $country_err="Country  is required ";
	   }
    else{ 
         $country=input($_POST["country"]);	
       }	  	   
	   
	 
	if(empty($_POST["website"]){
	   $website_err="Option is requiresd";
	}
	else{
       $website=input($_POST["website"]);
	   if($website=="yes"){
		  if(empty($_POST["address"])){
		      address_err="address is required";
		  }
		  else{
			 $address=input($_POST["address"]);
			 if (!preg_match("/\b(?:(?:https?|ftp):\/\/|www\.)[-a-z0-9+&@#\/%?=~_|!:,.;]*[-a-z0-9+&@#\/%=~_|]/i",$address)) { 
	                $address_err = "Invalid URL"; ;
		     }
		  }
		}
	}
 	
   $comment=input($_POST["comment"]);	
	
  }
	  
   
   
   }
   
  function input($data){
     $data=trim($data);
	 $data=stripslashes($data);
	 $data=htmlspecialchars($data);
    return $data;
	}
  ?>
 
 <p> Fields marked <span class='err'>*</span>are mandatory </p>
 
 <form method="post" action="<?php echo htmlspecialchars($_SERVER["PHP_SELF"]); ?>" >
 
  First Name : <span class='err'>*</span><br>
  <input type="text" name="fname" value="<?php echo $fname;?>" >
  <span class="err"><?php echo $fname_err ;?></span><br>
  
  
  Last Name : <span class='err'>*</span><br>
  <input type="text" name="lname" value="<?php echo $lname;?>" >
  <span class="err"><?php echo $lname_err ;?></span><br>
  
  
  Email Id : <span class='err'>*</span><br>
  <input type="email" name="email" value="<?php echo $email;?>" >
  <span class="err"><?php echo $email_err ;?></span><br>
 
 
  Mobile No. : <span class='err'>*</span><br>
  <input type="number" name="mnumber" value="<?php echo $mnumber;?>" >
  <span class="err"><?php echo $mno_err ;?></span><br>
   
 
  Select your country : <span class="err">*</span><br>
  
    <select name="country" value="<?php echo $country;?>" >
	   <option value="">Please Select</option>
     <?php 
        foreach($countries as country){
           echo " <option value=".$country.">".$country."</option>";
		}
     ?>		   

	 
    </select>
	<span calss="err"><?php echo $country_err;?></span><br>
	
	
	Do you have website presently ? <span class="err">*</span><br>
	<select name="website" value="<?php  echo $website;?>">
	   <option <?php if( isset($country) && ($country=="yes")) echo "selected"; ?> value="yes">Yes</option>
       <option <?php if( isset($country) && ($country=="no")) echo "selected"; ?> value="no">No</option>	   
	
	</select><br>
	
	<?php 
    if( $website=='yes'){ ?> 
    	 Enter the webaddress:<br>
          <input type="url" name="webaddress" value="<?php echo $webaddress;?>" ><br>
          <span class='error'><?php echo $address_err; ?> </span>
 <?php
    }  
     ?>
	 
	 
	 Any additional information you like to add.<br>
	 <textarea name="comment" placeholder="Write here !"><?php echo $comment ; ?></textarea><br>
	 
	 
	 <input type="submit" name="submit" value="submit">
	 <input type="reset" name="reset" value="Reset>
	 
	 
	
 </form>
  


</body>



</html>